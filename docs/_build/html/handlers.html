

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Inference Handler Documentation &mdash; Open Seismic beta0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Inference Tasks Documentation" href="infer_tasks.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Open Seismic
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Inference Handler Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#handling-runs">Handling Runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handling-inference">Handling Inference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="infer_tasks.html">Inference Tasks Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Model and Processors Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Open Seismic</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Inference Handler Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/handlers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="inference-handler-documentation">
<h1>Inference Handler Documentation<a class="headerlink" href="#inference-handler-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="handling-runs">
<h2>Handling Runs<a class="headerlink" href="#handling-runs" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">handle_run.py</span></code></p>
<dl class="simple">
<dt>This code parses the JSON configuration file given by the user and executes commands per the available arguments in the configuration file. Specifically, the code block is concerned with arguments for:</dt><dd><ul class="simple">
<li><p>Running pre model optimization, which is important when OpenVINO does not support the current model framework.</p></li>
<li><p>Running OpenVINO model optimization</p></li>
<li><p>Conducting inference on the data with the specified model/processors.</p></li>
</ul>
</dd>
</dl>
<p>Functions in <code class="docutils literal notranslate"><span class="pre">handle_run.py</span></code>:</p>
<dl class="py function">
<dt id="core.python.handle_run.get_params_dict">
<code class="sig-prename descclassname"><span class="pre">core.python.handle_run.</span></code><code class="sig-name descname"><span class="pre">get_params_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#core.python.handle_run.get_params_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>This function turns a filename string, opens and loads a JSON object as
a dictionary, and returns this data dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – The file name of a JSON file, most likely the configuration file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Param Dictionary (data)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="core.python.handle_run.json_args">
<code class="sig-prename descclassname"><span class="pre">core.python.handle_run.</span></code><code class="sig-name descname"><span class="pre">json_args</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#core.python.handle_run.json_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the arguments passed in by the user. The only argument needed, in this case,
is the file name to the configuration JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Parsed Args (parser.parse_args())</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="handling-inference">
<h2>Handling Inference<a class="headerlink" href="#handling-inference" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">infer.py</span></code></p>
<dl class="simple">
<dt>This code sets up the inference task, and based on the arguments given, it will execute the task specific by the user in their configuration JSON file. Current inference tasks include:</dt><dd><ul class="simple">
<li><p>Regular sync/async: This inference task is for more general purpose inference.</p></li>
<li><p>Fine Cube sync/async: This inference task is designed for salt identification tasks or tasks which involve taking in a mini cube of a larger input and outputting a unit volume to store in a larger cube. There is an option to interpolate the storage cube to the size of the input.</p></li>
<li><p>Coarse Cube sync: This inference task is designed for fault segmentation or tasks which involve taking in a mini cube of a larger input and outputting a mini cube of the same size to be stored in a larger storage cube.</p></li>
<li><p>Section sync/async: this inference task is designed for facies classification or tasks which involve conducting inference over sections of a larger sheet.</p></li>
</ul>
</dd>
</dl>
<p>Functions in <code class="docutils literal notranslate"><span class="pre">infer.py</span></code>:</p>
<dl class="py function">
<dt id="core.python.infer.get_functions">
<code class="sig-prename descclassname"><span class="pre">core.python.infer.</span></code><code class="sig-name descname"><span class="pre">get_functions</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_benchmarking</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_folder_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">given_model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sync'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#core.python.infer.get_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Given at least a folder path to your model and an OpenSeismic model name,
return a model class and its associated preprocess and postprocess functions.
These functions will be based on the contents within the folder path. For instance,
if a user specifies a model name and the model folder contains no user defined
scripts, then the model class and its associates preproceess/postprocess functions
come from OpenSeismic’s predefined classes and functions associated with the given
model name. Please refer to the Part 1 tutorial notebook for details.</p>
<p>Note that these arguments will be filled by a user’s configuration json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_folder_path</strong> – Path to user defined scripts have to do with model processes.</p></li>
<li><p><strong>given_model_name</strong> – A name of an OpenSeismic model.</p></li>
<li><p><strong>infer_type</strong> – The infer type for a specific inference task.</p></li>
<li><p><strong>streams</strong> – The number of streams to conduct inference with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>preprocess, postprocess, model</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="infer_tasks.html" class="btn btn-neutral float-right" title="Inference Tasks Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Intel Corporation.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>